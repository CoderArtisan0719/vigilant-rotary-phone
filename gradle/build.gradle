plugins {
  id 'java'
  id 'nebula.lint' version '10.1.2'
}

allprojects {
  repositories {
    jcenter()
    mavenCentral()
  }

  version = '1.0'

  apply plugin: 'java'

  apply plugin: 'nebula.lint'
  gradleLint.rules = [
      // Checks if Gradle wrapper is up-to-date
      'archaic-wrapper',
      // Checks for indirect dependencies with dynamic version spec. Best
      // practice calls for declaring them with specific versions.
      'undeclared-dependency',
      'unused-dependency'
      // TODO(weiminyu): enable more dependency checks
  ]
}

project(':core') {
  dependencies {
    // Custom-built objectify jar at commit ecd5165, included in Nomulus
    // release.
    implementation files(
        "${rootDir}/../third_party/objectify/v4_1/objectify-4.1.3.jar")
    testImplementation project(':third_party')
  }
}

